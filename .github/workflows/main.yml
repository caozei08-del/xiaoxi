å§“å: Android CI

åœ¨â€¦â€¦ä¹‹ä¸Š:
æ¨:
åˆ†æ”¯æœºæ„: [ "ä¸»è¦" ]
pull_request:
åˆ†æ”¯æœºæ„: [ "ä¸»è¦" ]

å·¥ä½œ:
å»ºç«‹:
è¿ç»­çš„ï¼šUbuntu-æœ€æ–°
æƒé™:               # ğŸ‘ˆ æ˜¾å¼æˆæƒ
å†…å®¹: å†™

æ­¥éª¤:
      - uses: æ“ä½œ/ç»“å¸@v4

      - å§“å: è®¾ç½®JDK17
uses: æ“ä½œ/è®¾ç½®-Java@v4
å’Œâ€¦â€¦ä¸€èµ·:
javaç‰ˆ: '17'
åˆ†å¸ƒ: 'temurin'
ç¼“å­˜: æ ¼æ‹‰å¾·å°”

-å§“å: æˆäºˆgradlewçš„æ‰§è¡Œæƒé™
è·‘: chmod+x gradlew

-å§“å: æ„å»ºç‰ˆæœ¬å®‰è£…åŒ…
è·‘: ./gradlewè£…é…é‡Šæ”¾

      #åªåœ¨pushæ—¶å‘è¡Œï¼›PRæ—¶è·³è¿‡
      - å§“å: é‡Šæ”¾
å¦‚æœ: github.event_name=='æ¨'
uses: softprops/action-gh-release@v2
å’Œâ€¦â€¦ä¸€èµ·:
tag_name: v1.0.${{github.run_number}}
å§“å: ç‰ˆæœ¬v1.0.${{github.run_number}}
æ–‡ä»¶: app/build/outputs/apk/release/app-release.apk
ç”Ÿæˆå‘å¸ƒæ³¨é‡Š: æ­£ç¡®
è‰æ¡ˆ: å‡çš„
é¢„å‘è¡Œ: å‡çš„
env:
GitHub_TOKEN: ${{secrets.GITHUB_TOKEN}}
